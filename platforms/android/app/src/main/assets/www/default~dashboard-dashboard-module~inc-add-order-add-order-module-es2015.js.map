{"version":3,"sources":["./src/app/members/inc/add-order/add-order.page.html","./src/app/members/inc/add-order/add-order-routing.module.ts","./src/app/members/inc/add-order/add-order.module.ts","./src/app/members/inc/add-order/add-order.page.scss","./src/app/members/inc/add-order/add-order.page.ts"],"names":[],"mappings":"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","file":"default~dashboard-dashboard-module~inc-add-order-add-order-module-es2015.js","sourcesContent":["export default \"<ion-header color=\\\"primary\\\">\\n    <ion-toolbar class=\\\"toolbar-background-md\\\">\\n      <ion-title>\\n        <ion-chip outline class=\\\"ion-margin-vertical chip\\\">\\n          <ion-icon class=\\\"chip\\\" name=\\\"clipboard\\\"></ion-icon>ORDER\\n          <ion-spinner style=\\\"margin-left: 16px;\\\" name=\\\"crescent\\\" color=\\\"light\\\" [hidden]=\\\"!submitting\\\"></ion-spinner>\\n        </ion-chip>\\n        <ion-chip color=\\\"light\\\" class=\\\"chip-notice\\\">   \\n            <ion-icon name=\\\"bicycle\\\" color=\\\"success\\\" ></ion-icon>      \\n                <h5 mode=\\\"ios\\\"> {{curTrip.tripId}} </h5>\\n          </ion-chip>\\n      </ion-title>\\n      <ion-buttons slot=\\\"end\\\">\\n        <ion-button class=\\\"ion-text-capitalize\\\" (click)=\\\"dismiss()\\\">Close</ion-button>\\n      </ion-buttons>\\n    </ion-toolbar>\\n  </ion-header>\\n\\n<ion-content style=\\\"padding-bottom: 40px;\\\">\\n        <ion-card-header>\\n            <ion-button (click)=\\\"addReturn()\\\"><ion-icon name=\\\"add\\\"></ion-icon>Return</ion-button>\\n            <ion-button color=\\\"primary\\\" (click)=\\\"openHistory()\\\"><ion-icon name=\\\"checkmark-circle-outline\\\"></ion-icon>Order History</ion-button>\\n            <ion-card-title>Add Order </ion-card-title>\\n            <ion-card-subtitle>{{customer.cust_name}} | {{customer.is_vat}}</ion-card-subtitle>\\n            <ion-card-subtitle>{{customer.address_line1}}, {{customer.address_line2}}, {{customer.address_line3}}</ion-card-subtitle>\\n        </ion-card-header>\\n        <ion-list >   \\n            <ion-item-divider class=\\\"ion-margin-remove\\\"></ion-item-divider>         \\n            <ion-item-sliding *ngFor=\\\"let odrItem of currOrder.order_items; let idx = index\\\">\\n\\n                <ion-item>\\t\\n                    <div class=\\\"item-card\\\">\\n                        <ion-select slot=\\\"start\\\"  mode=\\\"ios\\\" placeholder=\\\"Select Item\\\" \\n                        [(ngModel)]=\\\"odrItem.item_id\\\" (ionChange)=\\\"calcPrice(odrItem.item_id)\\\" (ionChange)=\\\"toggleUpdateItemList(odrItem.item_id)\\\" style=\\\"max-width: 100%;\\\">\\n                            \\n                            <ion-select-option *ngFor=\\\"let tripItem of curTrip.tripItems\\\" value=\\\"{{tripItem.itemId}}\\\"\\n                            [disabled]=\\\"tripItem.isSelected || tripItem.balanceQty == 0\\\">\\n                                {{tripItem.itemName}} | {{tripItem.balanceQty}}{{tripItem.itemUnitName}}\\n                            </ion-select-option>\\n\\n                        </ion-select>\\n                        <ion-item>\\n                            <ion-input type=\\\"number\\\" disabled [(ngModel)]=\\\"odrItem.price_sold\\\" placeholder=\\\"Selling Price\\\"></ion-input>\\n                            <ion-input type=\\\"number\\\" (keyup)=\\\"chkItemBalence($event, odrItem.item_id)\\\" \\n                            (blur)=\\\"finalizeItem($event)\\\" (blur)=setInvoicePaidAuto($event) placeholder=\\\"Qty\\\" [(ngModel)]=\\\"odrItem.qty\\\"></ion-input>\\n                            <div text-right>{{odrItem.qty*odrItem.price_sold | number : '1.2-2'}}</div>\\n                        </ion-item>\\n                    </div>\\n                </ion-item>\\n                <ion-item-options side=\\\"end\\\">\\n                    <ion-item-option color=\\\"danger\\\" class=\\\"ion-text-capitalize\\\" (click)=\\\"removeItem(odrItem)\\\"  [class.disable-btn]=\\\"submitting\\\">\\n                            <ion-icon name=\\\"close\\\"></ion-icon>Remove\\n                    </ion-item-option>\\n                </ion-item-options>\\n            </ion-item-sliding>\\n        </ion-list>\\n        <ion-item style=\\\"color: #3171e0;\\\" (click)=\\\"addItem()\\\">\\n            <ion-icon name=\\\"add\\\" color=\\\"primary\\\"></ion-icon>Add new\\n        </ion-item>\\n        <ion-item >\\n            <b>Total Payed Amount </b>\\n            <ion-input placeholder=\\\"0\\\" type=\\\"number\\\" [(ngModel)]=\\\"currOrder.odr_paid_amount\\\" (keyup)=\\\"setEffectiveBalance($event)\\\"  class=\\\"ion-text-right\\\" placeholder=\\\"Enter Here..\\\"></ion-input>\\n        </ion-item>\\n        <ion-item >\\n            <ion-textarea auto-grow=\\\"true\\\" placeholder=\\\"Remarks..\\\" [(ngModel)]=\\\"currOrder.odr_remark\\\"></ion-textarea>\\n        </ion-item>\\n            \\n        <ion-card>\\n            <ion-card-header>\\n                <ion-grid>\\n                    <ion-row>\\n                        <ion-col size=\\\"10\\\">\\n                            <ion-card-title>Outstanding/Excess Settlements</ion-card-title>\\n                        </ion-col>\\n                        <ion-col size=\\\"2\\\">\\n                            <ion-button color=\\\"primary\\\" (click)=\\\"outstSettle()\\\"><ion-icon name=\\\"add\\\"></ion-icon></ion-button>\\n                        </ion-col>\\n                    </ion-row>\\n                    <ion-row>\\n                        <ion-col>\\n                            <ion-card-subtitle> Effective Paid Amount: </ion-card-subtitle>\\n                        </ion-col>\\n                        <ion-col>\\n                            Rs.{{effectivePaid | number : '1.2-2'}}\\n                        </ion-col>\\n                    </ion-row>\\n                    <ion-row>\\n                        <ion-col>\\n                            <ion-card-subtitle> Tot. Out/Exc Deduct: </ion-card-subtitle>\\n                        </ion-col>\\n                        <ion-col>\\n                            Rs.{{outstDeduct | number : '1.2-2'}}\\n                        </ion-col>\\n                    </ion-row>\\n                </ion-grid>\\n            </ion-card-header>\\n            <ion-list style=\\\"margin-bottom: 40px;\\\">\\n                <ion-item-sliding *ngFor=\\\"let pay of outstSettles; let idx = index\\\">\\n                    <ion-item class=\\\"list-small-amrgin\\\">\\t\\t\\t\\n                        <ion-label text-wrap class=\\\"ion-no-margin\\\">\\n                            <ion-grid>\\n                                <ion-row>\\n                                    <ion-col size=\\\"2\\\" class=\\\"ion-float-left\\\">\\n                                        <ion-text color=\\\"light\\\">\\n                                            <ion-badge mode=\\\"ios\\\" class=\\\"list-header\\\" color=\\\"primary\\\">\\n                                                <ion-icon class=\\\"chip\\\" name=\\\"clipboard\\\"></ion-icon> {{ pay.odrId }}\\n                                            </ion-badge>\\n                                        </ion-text>\\n                                    </ion-col>\\n                                    <ion-col size=\\\"6\\\" class=\\\"ion-float-left\\\">\\n                                        <ion-text color=\\\"light\\\">\\n                                            <p class=\\\"list-sub-header ion-text-right\\\">\\n                                                Rs.{{ pay.amount }}\\n                                            </p>\\n                                        </ion-text>\\n                                    </ion-col>\\n                                    <ion-col size=\\\"2\\\" class=\\\"ion-float-right\\\">\\n                                        <ion-badge class=\\\"ion-float-right\\\" mode=\\\"ios\\\" *ngIf=\\\"pay.isOutstPay\\\" color=\\\"danger\\\">\\n                                            <ion-icon name=\\\"add\\\"></ion-icon>\\n                                        </ion-badge>\\n                                        <ion-badge class=\\\"ion-float-right\\\" mode=\\\"ios\\\" *ngIf=\\\"!pay.isOutstPay\\\" color=\\\"tertiary\\\">\\n                                            <ion-icon name=\\\"remove\\\"></ion-icon>\\n                                        </ion-badge>\\n                                    </ion-col>\\n                                </ion-row>\\n                            </ion-grid>\\n                        </ion-label>\\n                    </ion-item>\\n                    <ion-item-options side=\\\"end\\\">\\n                        <ion-item-option color=\\\"danger\\\" class=\\\"ion-text-capitalize\\\" (click)=\\\"removeSettlePay(idx, pay.amount)\\\">\\n                                <ion-icon name=\\\"close\\\"></ion-icon>Remove\\n                        </ion-item-option>\\n                    </ion-item-options>\\n                </ion-item-sliding>\\n            </ion-list>\\n        </ion-card>\\n\\n        <ion-card style=\\\"margin-bottom: 40px;\\\">\\n            <ion-card-header>\\n                <ion-button class=\\\"ion-margin\\\" (click)=\\\"processOrder()\\\" mode=\\\"ios\\\" slots=\\\"start\\\" expand=\\\"block\\\" type=\\\"submit\\\" [disabled]=\\\"!isOrdeValid\\\">Refresh Invoice</ion-button>\\n                <ion-grid>\\n                    <ion-row>\\n                        <ion-col size=\\\"12\\\">\\n                            <ion-card-title>Invoice Preview</ion-card-title>\\n                            <ion-card-subtitle>{{customer.cust_name}}</ion-card-subtitle>\\n                            <p>{{customer.address_line1}}, {{customer.address_line2}}, {{customer.address_line3}}</p>\\n                        </ion-col>\\n                    </ion-row>\\n                    <ion-row>\\n                        <ion-col class=\\\"ion-float-left\\\">\\n                            <div>Invoice Date</div>\\n                        </ion-col>\\n                        <ion-col class=\\\"ion-float-right\\\">\\n                            <div> {{currOrder.odr_datetime}} </div>\\n                        </ion-col>\\n                    </ion-row>\\n                    <ion-row>\\n                        <ion-col class=\\\"ion-float-left\\\">\\n                            <div>Sales Rep</div>\\n                        </ion-col>\\n                        <ion-col class=\\\"ion-float-right\\\">\\n                            <div> {{rep.repFname}} {{rep.repLname}}</div>\\n                        </ion-col>\\n                    </ion-row>\\n                </ion-grid>\\n            </ion-card-header>\\n            <ion-card-content>\\n                <ion-item>\\n                    <ion-grid>\\n                        <ion-row>\\n                            <ion-col class=\\\"ion-float-left\\\">\\n                                <div><h5><b>Item | Price</b></h5></div>\\n                            </ion-col>\\n                            <ion-col class=\\\"ion-float-left\\\">\\n                                <div><h5><b>Qty</b></h5></div>\\n                            </ion-col>\\n                            <ion-col class=\\\"ion-float-right\\\">\\n                                <div class=\\\"ion-text-right\\\"> <h5><b>Amount</b></h5> </div>\\n                            </ion-col>\\n                        </ion-row>\\n                    </ion-grid>\\n                </ion-item>\\n                <ion-item *ngFor=\\\"let item of currOrder.order_items\\\">\\n                    <ion-grid *ngIf=\\\"item.qty\\\">\\n                        <div style=\\\"margin-left: 5px;\\\"><h3><b>{{item.item_name}}</b></h3></div>\\n                        <ion-row>\\n                            <ion-col class=\\\"ion-float-left\\\">\\n                                <div>Rs.{{item.price_sold | number : '1.2-2'}}</div>\\n                            </ion-col>\\n                            <ion-col class=\\\"ion-float-left\\\">\\n                                <div>X {{item.qty}}</div>\\n                            </ion-col>\\n                            <ion-col class=\\\"ion-float-right\\\">\\n                                <div class=\\\"ion-text-right\\\">\\n                                    Rs.{{item.price_sold*item.qty | number : '1.2-2'}}\\n                                </div>\\n                            </ion-col>\\n                        </ion-row>\\n                    </ion-grid>\\n                </ion-item>\\n                <ion-item>\\n                    <ion-grid>\\n                        <ion-row>\\n                            <ion-col class=\\\"ion-float-left\\\">\\n                                <div><h5><b>Total Amount</b></h5></div>\\n                            </ion-col>\\n                            <ion-col class=\\\"ion-float-right\\\">\\n                                <div class=\\\"ion-text-right\\\">\\n                                    <h5><b>Rs.{{currOrder.odr_amount-currOrder.vat_amount | number : '1.2-2'}}</b></h5>\\n                                </div>\\n                            </ion-col>\\n                        </ion-row>\\n                        <ion-row>\\n                            <ion-col class=\\\"ion-float-left\\\">\\n                                <div><h5><b>VAT</b></h5></div>\\n                            </ion-col>\\n                            <ion-col class=\\\"ion-float-right\\\">\\n                                <div class=\\\"ion-text-right\\\">\\n                                    <h5><b>Rs.{{currOrder.vat_amount | number : '1.2-2'}}</b></h5>\\n                                </div>\\n                            </ion-col>\\n                        </ion-row>\\n                        <ion-row>\\n                            <ion-col class=\\\"ion-float-left\\\">\\n                                <div><h5><b>Tot. Bill Amount</b></h5></div>\\n                            </ion-col>\\n                            <ion-col class=\\\"ion-float-right\\\">\\n                                <div class=\\\"ion-text-right\\\">\\n                                    <h5><b>Rs.{{currOrder.odr_amount | number : '1.2-2'}}</b></h5>\\n                                </div>\\n                            </ion-col>\\n                        </ion-row>\\n                        <ion-row>\\n                            <ion-col class=\\\"ion-float-left\\\">\\n                                <div><h5><b>Paid Amount</b></h5></div>\\n                            </ion-col>\\n                            <ion-col class=\\\"ion-float-right\\\">\\n                                <div class=\\\"ion-text-right\\\">\\n                                    <h5><b>Rs.{{currOrder.odr_paid_amount | number : '1.2-2'}}</b></h5>\\n                                </div>\\n                            </ion-col>\\n                        </ion-row>\\n                        <ion-row style=\\\"background-color: rgb(107, 107, 107); color: #fff;\\\">\\n                            <ion-col class=\\\"ion-float-left\\\">\\n                                <div><h5><b>Tot. Out/Exc Deduction</b></h5></div>\\n                            </ion-col>\\n                            <ion-col class=\\\"ion-float-right\\\">\\n                                <div class=\\\"ion-text-right\\\">\\n                                    <h5><b>Rs.{{outstDeduct | number : '1.2-2'}}</b></h5>\\n                                </div>\\n                            </ion-col>\\n                        </ion-row>\\n                        <ion-row style=\\\"background-color: rgb(42, 42, 42); color: #fff;\\\">\\n                            <ion-col class=\\\"ion-float-left\\\">\\n                                <div><h5><b>Effective Paid Amount</b></h5></div>\\n                            </ion-col>\\n                            <ion-col class=\\\"ion-float-right\\\">\\n                                <div class=\\\"ion-text-right\\\">\\n                                    <h5><b>Rs.{{effectivePaid | number : '1.2-2'}}</b></h5>\\n                                </div>\\n                            </ion-col>\\n                        </ion-row>\\n                        <ion-row style=\\\"background-color: rgb(5, 5, 5); color: #fff;\\\">\\n                            <ion-col class=\\\"ion-float-left\\\">\\n                                <div><h5><b>Invoice Outst.</b></h5></div>\\n                            </ion-col>\\n                            <ion-col class=\\\"ion-float-right\\\">\\n                                <div class=\\\"ion-text-right\\\">\\n                                    <h5><b>Rs.{{tempOutstanding | number : '1.2-2'}}</b></h5>\\n                                </div>\\n                            </ion-col>\\n                        </ion-row>\\n                        \\n                    </ion-grid>\\n                </ion-item>\\n            </ion-card-content>\\n        </ion-card>\\n\\n        <ion-button class=\\\"ion-margin\\\" [hidden]=\\\"!currOrder.isWorking\\\" (click)=\\\"submitOrder()\\\" mode=\\\"ios\\\" slots=\\\"start\\\" \\n        expand=\\\"block\\\" [disabled]=\\\"!isOrdeValid\\\">Print Customer Copy</ion-button>\\n        <ion-button class=\\\"ion-margin\\\" [hidden]=\\\"currOrder.isWorking\\\" (click)=\\\"printInvoice(false)\\\" mode=\\\"ios\\\" slots=\\\"start\\\" \\n        expand=\\\"block\\\" [disabled]=\\\"!isOrdeValid\\\">Print Rep Copy</ion-button>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AddOrderPage } from './add-order.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AddOrderPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AddOrderPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AddOrderPageRoutingModule } from './add-order-routing.module';\n\nimport { AddOrderPage } from './add-order.page';\nimport { ReturnPageModule } from '../return/return.module'\nimport { OrderHistoryPageModule } from '../order-history/order-history.module'\nimport { OutstSettlePageModule } from '../outst-settle/outst-settle.module'\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    AddOrderPageRoutingModule,\n    ReturnPageModule,\n    OrderHistoryPageModule,\n    OutstSettlePageModule\n  ],\n  declarations: [AddOrderPage]\n})\nexport class AddOrderPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21lbWJlcnMvaW5jL2FkZC1vcmRlci9hZGQtb3JkZXIucGFnZS5zY3NzIn0= */\"","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { OrderItem, Order, Rep } from '../../../services/storage.service';\nimport { NavParams } from '@ionic/angular';\nimport { ModalController, IonSelect, Platform, AlertController  } from '@ionic/angular';\nimport { StorageService, Trip, TripItem, OutstPayment } from '../../../services/storage.service';\nimport { AuthenticationService } from '../../../services/authentication.service';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { DatePipe, CurrencyPipe } from '@angular/common'\nimport { ReturnPage } from '../return/return.page';\nimport { OrderHistoryPage } from '../order-history/order-history.page';\nimport { OutstSettlePage } from '../outst-settle/outst-settle.page';\n\ndeclare var window: any;\n\n@Component({\n    selector: 'app-add-order',\n    templateUrl: './add-order.page.html',\n    styleUrls: ['./add-order.page.scss'],\n})\n\n\nexport class AddOrderPage implements OnInit {\n\n    private currOrder: Order = <Order>{};\n    private customer: any;\n    private currTripId: number;\n    private curTrip: Trip = <Trip>{};\n    private submitting: boolean;\n    private selectList: TripItem[] = [];\n    private isOrdeValid: boolean = true;\n    private tempOutstanding: number = 0;\n    private rep: Rep;\n    private invoiceNo: any;\n    private outsts: any[] = [];\n    private outstSettles: OutstPayment[] = [];\n    private effectivePaid: number = 0;\n    private outstDeduct: number = 0;\n    \n    @ViewChild('selectItem', {static: false}) selectItem: IonSelect;\n    \n    \n    constructor(\n        private currencyPipe : CurrencyPipe,\n        public modalController: ModalController,\n        private authService: AuthenticationService,\n        private http: HttpClient,\n        private storage: StorageService,\n        private plt: Platform,\n        public alertController: AlertController,\n        public datepipe: DatePipe,\n        private navParams: NavParams\n    ) { \n        this.customer = this.navParams.get('customer');\n        ////// this.currTripId = this.navParams.get('tripId');\n        // this.repId = this.navParams.get('repId');\n        this.rep = this.navParams.get('rep');\n        \n        // this.rep = {\n        //     \"repID\": 2,\n        //     \"repEmail\": \"anton@mail.com\",\n        //     \"repFname\": \"Anton\",\n        //     \"repLname\": \"Ranaweera\",\n        //     \"repTp\": \"0777895689\",\n        //     \"repRoutes\": [\n        //       {\n        //         \"route_id\": \"1\",\n        //         \"route_name\": \"Negombo\",\n        //         \"desc\": null\n        //       },\n        //       {\n        //         \"route_id\": \"2\",\n        //         \"route_name\": \"Arachchikattuwa\",\n        //         \"desc\": null\n        //       },\n        //       {\n        //         \"route_id\": \"5\",\n        //         \"route_name\": \"Colombo\",\n        //         \"desc\": null\n        //       }\n        //     ],\n        //     \"currOpenedTripId\": -1\n        // }\n        // this.customer = {\n        //     \"cust_id\": \"4\",\n        //     \"cust_name\": \"Cust y\",\n        //     \"address_line1\": \"Cust y - Adrs 1\",\n        //     \"address_line2\": \"Cust y - Adrs 2\",\n        //     \"address_line3\": \"Cust y - Adrs 3\",\n        //     \"cust_email\": \"Cust y - email\",\n        //     \"cust_tp\": \"Cust y - tp\",\n        //     \"route_id\": \"2\",\n        //     \"cat_id\": \"2\",\n        //     \"cat_name\": \"Non-Agent\"\n        // };\n        // this.currTripId = 6;\n\n\n\n        this.currOrder.order_items = [];\n        this.currOrder.odr_is_doubt = false;\n    }\n\n    ngOnInit() {\n        this.plt.ready().then(()=>{\n            document.addEventListener(\"backbutton\",function(e) {}, false);\n            this.authService.getRep().then(rep=>{\n                this.rep = rep;\n            })\n            this.fetchServerCurrTrip(); //loading current trip details\n            this.addItem();\n            this.getCustOutstanding();\n            \n        })\n\n        console.log(this.rep)\n    }\n\n\n    async addReturn(){\n        const modal = await this.modalController.create({\n            component: ReturnPage,\n            componentProps: {\n                customer: this.customer,\n                tripId: this.curTrip.tripId,\n                rep: this.rep\n            }\n        });\n        return await modal.present();\n    }\n\n\n    async outstSettle(){\n        const modal = await this.modalController.create({\n            component: OutstSettlePage,\n            componentProps: {\n                outsts: this.outsts,\n                totalPaid: this.currOrder.odr_paid_amount,\n                ttlOutst: this.customer.outstanding\n            }\n        });\n        modal.present(); \n        let ret = await modal.onWillDismiss();\n        let settles = ret.data.settlements;\n        if (settles) {\n            console.log(settles);\n            this.outstSettles = settles;\n            this.calcOutstDeduct();\n            // this.calcEffectivePaid();\n            this.updateTotOutst();\n        }\n    }\n\n    calcOutstDeduct(){\n        this.outstDeduct = 0;\n        this.outstSettles.forEach(settle=>{\n            this.outstDeduct = this.outstDeduct*1 + settle.amount*1;\n        })\n    }\n\n    removeSettlePay(idx: number, amount: number){\n        this.outstSettles.splice(idx, 1);\n        this.calcOutstDeduct();\n        // this.calcEffectivePaid();\n        this.updateTotOutst();\n    }\n    \n\n    calcEffectivePaid(){\n        this.effectivePaid = Number(this.currOrder.odr_paid_amount)*1 - this.outstDeduct*1;\n    }\n\n    setEffectiveBalance(evt){\n        \n      \n        \n        this.effectivePaid = evt.target.value*1 - this.outstDeduct*1;\n\n        /*this.currOrder.odr_paid_amount = this.currencyPipe.transform(this.currOrder.odr_paid_amount);\n        //evt.target.value = this.currOrder.odr_paid_amount;\n        console.log(this.currOrder.odr_paid_amount);*/\n    }\n\n    async openHistory(){\n        const modal = await this.modalController.create({\n            component: OrderHistoryPage,\n            componentProps: {\n                custId: this.customer.cust_id,\n            }\n        });\n        return await modal.present();\n    }\n\n    printInvoice(isCustCpy: boolean){\n        let str: string = \"\";\n        let strSep=\"++++++++++++++++++++++++++++++++\\n\";\n\n        str+=\"___Sales Invoice: #\"+this.invoiceNo+\"___\\n\";\n        str+=this.customer.cust_name+\"\\n\";\n        str+=this.customer.address_line1+\"\\n\";\n        str+=this.customer.address_line2+\"\\n\";\n        str+=this.customer.address_line3+\"\\n\";\n        str+=\"--------------------------------\\n\";\n        str+=\"Date: \"+this.currOrder.odr_datetime+\"\\n\";\n        str+=\"Rep : \"+this.rep.repFname+\" \"+this.rep.repLname+\"\\n\\n\";\n        str+=\"                     \\n\";\n        str+=\"========== Sales Items =========\\n\";\n        str+=\"Item |       Qty         Amount \\n\";\n        str+=\"Unit Price\\n\";\n        str+=\"________________________________\\n\";\n        \n        this.currOrder.order_items.forEach(item=>{\n            str+=item.item_name+\"\\n\";\n            str+=\"Rs.\"+item.price_sold+\" X \"+item.qty+\" => Rs.\"+(item.qty*item.price_sold).toFixed(2)+\"\\n\";\n        })\n        str+=\"\\n======= Invoice Payment ========\\n\";\n        str+=\"Bill Amount     Rs.\"+(this.currOrder.odr_amount-this.currOrder.vat_amount).toFixed(2)+\"\\n\";\n        str+=\"VAT(8%)         Rs.\"+this.currOrder.vat_amount.toFixed(2)+\"\\n\";\n        str+=\"Tot.Bill Amount Rs.\"+this.currOrder.odr_amount.toFixed(2)+\"\\n\";\n        str+=\"--------------------------------\\n\";\n        str+=\"Paid Amount     Rs.\"+Number(this.currOrder.odr_paid_amount).toFixed(2)+\"\\n\";\n        str+=\"Current Outst.  Rs.\"+this.tempOutstanding.toFixed(2)+\"\\n\";\n        \n        if (this.outstSettles.length > 0) {\n            str+=\"\\n\\n===== Out/Exc Settlements ======\\n\";\n            this.outstSettles.forEach(pay=>{\n                str+=\"Invoice #\"+pay.odrId+\" => Rs.\"+pay.amount+(pay.isOutstPay?\"(+)\":\"(-)\")+\"\\n\";       \n            })\n            str+=\"--------------------------------\\n\";\n            str+=\"Tot.Out/Exc Ded Rs.\"+this.outstDeduct.toFixed(2)+\"\\n\";\n        }\n        str+=\"================================\\n\\n\\n\";\n        str+=\"________________________________\\n\";\n        if (isCustCpy) {\n            str+=\"Customer Signature\\n\"; \n        }else{\n            str+=\"Sales Rep Signature\\n\"; \n        }\n        str+=strSep+\"\\n\\n\";\n\n        window.sunmiInnerPrinter.printOriginalText(strSep);\n        window.sunmiInnerPrinter.printTextWithFont('\\n      Jaya Farm\\n','Calibri',36);\n        window.sunmiInnerPrinter.printTextWithFont('\\n   Nattandiya, Marawila\\n','Calibri',30);\n        window.sunmiInnerPrinter.printTextWithFont('\\n         032-2254811\\n','Calibri',24);\n        // window.sunmiInnerPrinter.printTextWithFont('\\n\\nSales Invoice: #'+this.invoiceNo+\"\\n\",'Calibri',30);\n        window.sunmiInnerPrinter.printOriginalText(str);\n        if (!isCustCpy) {\n            this.modalController.dismiss({\n                'dismissed': true\n            });\n        }\n    }\n\n\n    async submitOrder(){\n        if (!navigator.onLine) {\n            this.authService.showToast(\"<b>No internet access..<ion-icon name='information-circle-outline'></ion-icon></b><br>Cannot connect to the server..\");\n            return;\n        } \n        this.processOrder();\n        console.log(this.currOrder.odr_paid_amount);\n        if ((!this.currOrder.odr_paid_amount || this.currOrder.odr_paid_amount == null) && Number(this.currOrder.odr_paid_amount) !== 0) {\n            this.authService.showToast(\"<b>Please enter the 'Total Payed Amount'... <ion-icon name='warning'></ion-icon></b>\");\n            return;\n        } \n        const ParseHeaders = {\n            headers: new HttpHeaders({\n                'Content-Type': 'application/x-www-form-urlencoded'\n            })\n        };\n        \n        let url = this.storage.svr_url+\"OrderCtrl/processOrder\";\n        let postData: any = [];\n    \n        postData.push({ \n            'order': this.currOrder,\n            'currOdrPay': this.effectivePaid,\n            'outstPays': this.outstSettles\n        });\n        this.submitting = true;\n      \n        //   console.log(postData);\n      \n        const alert = await this.alertController.create({\n            mode: \"ios\",\n            header: 'Confirm submit invoice',\n            message: 'Do you really want to submit the invoice?',\n            buttons: [\n                {   text: 'Cancel',\n                    role: 'cancel',\n                    cssClass: 'secondary',\n                    handler: () => { this.submitting = false; }\n                },\n                {   text: 'Submit',\n                    handler: () => {\n                        console.log(postData)\n                        this.http.post(url, postData, ParseHeaders).subscribe((res) => {\n                            this.submitting = false;\n                            console.log(res)\n                            if (res !== false ) {\n                                console.log(res);\n                                this.invoiceNo = res;\n                                console.log(this.invoiceNo);\n                                this.printInvoice(true);\n                                this.currOrder.isWorking = false;\n                            } else {\n                                this.authService.showToast('Problem submitting invoice..');\n                                return false;\n                            }\n                        }, (error: any) => {\n                            console.log(error);\n                            return false;\n                        });\n                    }\n                }\n            ]\n        });\n        this.submitting = false;\n        await alert.present();\n    }\n    \n    /**\n     * Check while typing that enough quantity is available in trip item\n     * @param ev - $event variable of current event\n     * @param itemId - The trip item that the balance quantity should be checked\n     */\n    chkItemBalence(ev, itemId: number) {\n        if (itemId === undefined) {\n            this.authService.showToast(\"<b>Please select the item first..<ion-icon name='warning'></ion-icon></b>\");\n            // ev.srcElement.disabled = true;\n            ev.target.value = null;\n        } else{\n            // ev.srcElement.disabled = false;\n            let tripItemIdx = this.curTrip.tripItems.findIndex(item=> item.itemId == itemId);\n            if (this.curTrip.tripItems[tripItemIdx].balanceQty < ev.target.value) {\n                this.authService.showToast(\"<b>You don't have enough item quantity..<ion-icon name='warning'></ion-icon></b>\");\n                ev.target.value = null;\n            }\n        }\n       \n    }\n\n    finalizeItem(evt){\n        this.calcOrderAmount();\n        this.setOrderUtilInfo();\n        console.log(evt)\n    }\n\n    processOrder(){\n        console.log(this.currOrder.order_items)\n        if (this.currOrder.order_items.length < 1) {\n            this.calcOrderAmount();\n            this.setOrderUtilInfo();\n            // this.isOrdeValid = false;\n            // this.authService.showToast(\"<b>You are going to  <ion-icon name='warning'></ion-icon></b></br>Please add atleast one item to the invoice..\");\n        } else{\n            this.currOrder.order_items.forEach(item=>{\n                if (!item.item_id || !item.qty || item.qty == null ) {\n                    // this.isOrdeValid = false;\n                    this.authService.showToast(\"<b>Problem processing invoice. <ion-icon name='warning'></ion-icon></b></br>Please re-check invoice items carefully...\");\n                }\n                else{   \n                    this.calcOrderAmount();\n                    this.setOrderUtilInfo();\n                    // this.setInvoicePaidAuto();\n                }\n            })\n        }\n    }\n\n    calcOrderAmount(){\n        if ((!this.currOrder.odr_paid_amount || this.currOrder.odr_paid_amount == null) && Number(this.currOrder.odr_paid_amount) !== 0) {\n            this.authService.showToast(\"<b>Please enter the 'Total Payed Amount'... <ion-icon name='warning'></ion-icon></b>\");\n            return;\n        }\n        this.currOrder.odr_amount = 0;\n        // this.tempOutstanding = this.customer.outstanding;\n        \n        console.log(this.currOrder)\n\n        this.currOrder.order_items.forEach(item=>{\n            this.currOrder.odr_amount += item.price_sold*item.qty;\n        })\n\n        this.currOrder.vat_amount = this.customer.is_vat == \"VAT\" ? 8/100 * this.currOrder.odr_amount:0;\n        this.currOrder.odr_amount = this.currOrder.odr_amount + this.currOrder.vat_amount;\n        this.updateTotOutst();\n    }\n\n    updateTotOutst(){\n        this.calcEffectivePaid();\n\n        // this.tempOutstanding = this.customer.outstanding*1 - this.outstDeduct*1;\n        this.tempOutstanding = 0;\n        this.tempOutstanding = (((this.tempOutstanding*-1) + (this.effectivePaid*1 - this.currOrder.odr_amount))*-1);\n    }\n\n    setOrderUtilInfo(){\n        this.currOrder.cust_id = this.customer.cust_id;\n        this.currOrder.odr_datetime = this.datepipe.transform(new Date(), 'yyyy-MM-dd HH:mm:ss');\n        this.currOrder.trip_id = this.curTrip.tripId;\n        this.currOrder.cust_cat_id = Number(this.customer.cat_id);\n        // this.currOrder.odr_paid_amount \n        console.log(this.currOrder)\n    }\n\n\n    isOrderValid(){\n        // this.isOrdeValid = true;\n\n        // if (this.currOrder.order_items.length > 0) {\n        //     this.isOrdeValid = false;\n        //     return;\n        // }\n        // this.currOrder.order_items.forEach(item=>{\n        //     if (!item.item_id || !item.qty || item.qty == null) {\n        //         this.isOrdeValid = false;\n        //         return;\n        //     }\n        // })\n        // console.log(this.currOrder.order_items)\n        // this.isOrdeValid = isValid;\n    }\n\n    /**\n     * Update the selected status of a specific item in current trip\n     * @param itemId - item to be updated on current trip\n     */\n    toggleUpdateItemList(itemId: number){\n        console.log(\"itemId \"+itemId)\n        console.log(this.curTrip.tripItems)\n        let itemIndex = this.curTrip.tripItems.findIndex(itemInArra=> itemInArra.itemId == itemId);\n        if (itemIndex > -1) {\n            console.log(\"itemIndex \"+itemIndex)\n            let isSelectd = this.curTrip.tripItems[itemIndex].isSelected;\n            this.curTrip.tripItems[itemIndex].isSelected = isSelectd? false: true;\n        }  \n        this.isOrderValid(); \n    }\n\n    /**\n     * Update the order item sold price of the particular customer\n     * @param itemId - The item to be updated the price on order items\n     */\n    calcPrice(itemId: number){\n        let index = this.currOrder.order_items.findIndex(odrItem=>odrItem.item_id == itemId);\n        console.log(\"index: \"+index)\n        if (index > -1) {\n            let selectedItem = this.currOrder.order_items[index];\n            let tripItemIdx = this.curTrip.tripItems.findIndex(item=>item.itemId == selectedItem.item_id);\n            this.currOrder.order_items[index].price_sold = this.curTrip.tripItems[tripItemIdx].item_unit_price;     \n            this.currOrder.order_items[index].item_name = this.curTrip.tripItems[tripItemIdx].itemName;       \n        }\n        this.isOrderValid();\n    }\n\n    /**\n     * Remove item from order items list\n     * @param item - Item object that in current order to be removed \n     */\n    removeItem(item){\n        let index = this.currOrder.order_items.indexOf(item);\n    \n        if(index > -1){\n            let rmvItemId = this.currOrder.order_items[index].item_id;\n            this.toggleUpdateItemList(rmvItemId);\n            this.currOrder.order_items.splice(index, 1);\n        }\n        this.isOrderValid();\n        console.log( this.currOrder.order_items)\n    }\n\n    /**\n     * Add empty item to current order items list \n     */\n    addItem(){\n        console.log(this.curTrip.tripItems)\n        this.currOrder.isWorking = true;\n        this.currOrder.order_items.push(<OrderItem>{});\n        this.currOrder.odr_paid_amount = '';\n        console.log(this.currOrder.order_items)\n        // this.isOrderValid();\n    }\n\n\n    /**\n     * Close the current modal page\n     */\n    async dismiss() {\n        if (this.currOrder.order_items.length > 0 && this.currOrder.isWorking) {\n            const alert = await this.alertController.create({\n                mode: \"ios\",\n                header: 'Exit order process',\n                message: 'Do you really want to exit and discard the order?',\n                buttons: [\n                    {   text: 'Cancel',\n                        role: 'cancel',\n                        cssClass: 'secondary',\n                    },\n                    {   text: 'Discard & Exit',\n                        handler: () => {\n                            this.modalController.dismiss({\n                                'dismissed': true\n                            });\n                        }\n                    }\n                ]\n                });\n                await alert.present();\n        }\n    }\n\n    /**\n     * Retreive current customer outstanding payment value\n     */\n    getCustOutstanding(){\n        if (!navigator.onLine){\n            this.authService.showToast(\"<b>No internet access..<ion-icon name='information-circle-outline'></ion-icon></b><br>Cannot connect to the server..\");\n        } \n\n        let url = this.storage.svr_url+\"OrderCtrl/getCustOutstanding/\"+this.customer.cust_id;\n\n        this.http.get(url).subscribe((outsts: any)=>{\n            console.log(outsts);\n\n            if (outsts) {\n                this.outsts = outsts;\n                let ttlOutst: number = 0;\n\n                outsts.forEach(outst=>{\n                    // console.log(outst.out)\n                    ttlOutst += Number(outst.out);\n                    // console.log(ttlOutst)\n                })\n                console.log(ttlOutst)\n                this.customer.outstanding = ttlOutst;\n                // this.tempOutstanding = this.customer.outstanding;\n                this.tempOutstanding = this.customer.outstanding*1 - this.outstDeduct*1;\n            }\n        });\n    }\n\n\n    /**\n     * Load current trip info from server side\n     */\n    fetchServerCurrTrip(){\n            \n        if (!navigator.onLine){\n            this.authService.showToast(\"<b>No internet access..<ion-icon name='information-circle-outline'></ion-icon></b><br>Cannot connect to the server..\");\n        } \n\n        let url = this.storage.svr_url+\"RepCtrl/getRepTripList/\"+this.rep.repID+\"/-1/1\";\n\n        // let trip: Trip = <Trip>{};\n        this.http.get(url).subscribe((data: any[])=>{\n            if (data.length != 1) {\n                this.authService.showToast(\"You have no or more than one started trips..<ion-icon name='warning'></ion-icon></b><br>Please contact the administration..\"); \n            }else{\n                let elm = data[0];\n                this.curTrip = <Trip>{\n                    tripId: Number(elm.trip_id),\n                    tripStTime: elm.trip_st_time,\n                    tripEndTime: elm.trip_end_time,\n                    tripItems: this.getTripItems(Number(elm.trip_id)),\n                    isOpened: (elm.trip_end_time == null) ? true: false\n                }\n                \n            }\n        });\n    }\n\n    /**\n     * Fetch trip item info from serverside\n     * @param tripId - The trip_id to get the items of that particular trip\n     */\n    getTripItems(tripId: number): TripItem[]{\n        console.log(\"trip Id to get items \"+tripId)\n        let items: TripItem[] = [];\n\n        if (!navigator.onLine) {\n            this.authService.showToast(\"<b>No internet access..<ion-icon name='information-circle-outline'></ion-icon></b><br>Cannot connect to the server..\");\n        } else {\n            this.submitting = true;\n            let url = this.storage.svr_url+\"RepCtrl/getItemPriceByCustomer/\"+tripId+\"/\"+this.customer.cust_id+\"/\"+this.customer.cat_id;\n\n            this.http.get(url).subscribe((data: any) => {\n                if (data.length > 0){\n                    data.forEach((elm) => {\n                        items.push(<TripItem>{\n                            itemId: Number(elm.item_id),\n                            itemName: elm.item_name,\n                            itemUnitName: elm.item_unit_name,\n                            item_unit_price: elm.item_unit_price,\n                            loadQty: elm.load_qty,\n                            balanceQty: (elm.unload_qty == null || elm.unload_qty == '') ? Number(elm.load_qty): Number(elm.unload_qty),\n                            isSelected: false\n                        })\n                    });\n                } \n                this.submitting = false;\n            },\n            (error: any) => {\n                console.log(error);\n            });\n        } \n        return items; \n    }\n\n}\n"],"sourceRoot":"webpack:///"}