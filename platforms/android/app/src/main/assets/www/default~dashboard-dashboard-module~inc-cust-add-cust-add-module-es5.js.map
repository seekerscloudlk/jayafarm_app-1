{"version":3,"sources":["src/app/members/inc/cust-add/cust-add.page.html","src/app/members/inc/cust-add/cust-add-routing.module.ts","src/app/members/inc/cust-add/cust-add.module.ts","src/app/members/inc/cust-add/cust-add.page.scss","src/app/members/inc/cust-add/cust-add.page.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAA,IAAA,mBAAA,CAAA,CAAA,CAAA,mBAAA;AAAe;;;AAAA,IAAA,mBAAA,CAAA,SAAA,CAAA,GAAA,m6GAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACKf,QAAM,MAAM,GAAW,CACrB;AACE,MAAA,IAAI,EAAE,EADR;AAEE,MAAA,SAAS,EAAE,2CAAA,CAAA,aAAA;AAFb,KADqB,CAAvB;;AAWA,QAAa,wBAAb;AAAA;AAAA,KAAA;;AAAa,IAAA,wBAAwB,GAAA,kCAAA,CAAA,YAAA,CAAA,CAAA,CAJpC,MAAA,CAAA,0CAAA,CAAA,UAAA,CAAA,CAAA,CAAS;AACR,MAAA,OAAO,EAAE,CAAC,4CAAA,CAAA,cAAA,CAAA,CAAa,QAAb,CAAsB,MAAtB,CAAD,CADD;AAER,MAAA,OAAO,EAAE,CAAC,4CAAA,CAAA,cAAA,CAAD;AAFD,KAAT,CAIoC,CAAA,EAAxB,wBAAwB,CAAxB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACGb,QAAa,iBAAb;AAAA;AAAA,KAAA;;AAAa,IAAA,iBAAiB,GAAA,kCAAA,CAAA,YAAA,CAAA,CAAA,CAV7B,MAAA,CAAA,0CAAA,CAAA,UAAA,CAAA,CAAA,CAAS;AACR,MAAA,OAAO,EAAE,CACP,4CAAA,CAAA,cAAA,CADO,EAEP,2CAAA,CAAA,aAAA,CAFO,EAGP,2CAAA,CAAA,aAAA,CAHO,EAIP,qDAAA,CAAA,0BAAA,CAJO,EAKP,2CAAA,CAAA,qBAAA,CALO,CADD;AAQR,MAAA,YAAY,EAAE,CAAC,2CAAA,CAAA,aAAA,CAAD;AARN,KAAT,CAU6B,CAAA,EAAjB,iBAAiB,CAAjB;;;;;;;;;;;;;;;;ACnBb,IAAA,mBAAA,CAAA,CAAA,CAAA,mBAAA;AAAe;;;AAAA,IAAA,mBAAA,CAAA,SAAA,CAAA,GAAA,yMAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACcf,QAAa,WAAb;AAMI,2BACW,eADX,EAEY,SAFZ,EAGY,WAHZ,EAIY,OAJZ,EAKY,IALZ,EAMY,WANZ,EAOa,eAPb,EAO6C;AAAA;;AANlC,aAAA,eAAA,GAAA,eAAA;AACC,aAAA,SAAA,GAAA,SAAA;AACA,aAAA,WAAA,GAAA,WAAA;AACA,aAAA,OAAA,GAAA,OAAA;AACA,aAAA,IAAA,GAAA,IAAA;AACA,aAAA,WAAA,GAAA,WAAA;AACC,aAAA,eAAA,GAAA,eAAA;AAXL,aAAA,QAAA,GAAkB,EAAlB;AACA,aAAA,UAAA,GAAqB,KAArB;AAYJ,aAAK,UAAL,GAAkB,KAAK,SAAL,CAAe,GAAf,CAAmB,YAAnB,CAAlB;AACA,QAAA,OAAO,CAAC,GAAR,CAAY,KAAK,UAAjB;AACA,aAAK,WAAL,GAAmB,WAAW,CAAC,KAAZ,CAAkB;AACjC,UAAA,SAAS,EAAE,CAAC,EAAD,EAAK,2CAAA,CAAA,YAAA,CAAA,CAAW,QAAhB,CADsB;AAEjC,UAAA,aAAa,EAAE,CAAC,EAAD,EAAK,2CAAA,CAAA,YAAA,CAAA,CAAW,QAAhB,CAFkB;AAGjC,UAAA,aAAa,EAAE,CAAC,EAAD,CAHkB;AAIjC,UAAA,aAAa,EAAE,CAAC,EAAD,CAJkB;AAKjC,UAAA,UAAU,EAAE,CAAC,EAAD,CALqB;AAMjC,UAAA,OAAO,EAAE,CAAC,EAAD,EAAK,2CAAA,CAAA,YAAA,CAAA,CAAW,QAAhB,CANwB;AAOjC,UAAA,MAAM,EAAE,CAAC,EAAD,EAAK,2CAAA,CAAA,YAAA,CAAA,CAAW,QAAhB,CAPyB;AAQjC,UAAA,QAAQ,EAAE,CAAC,KAAK,UAAN,CARuB;AASjC,UAAA,OAAO,EAAE,CAAC,EAAD;AATwB,SAAlB,CAAnB;AAWH;;AA5BL;AAAA;AAAA,mCA8BY;AACJ,eAAK,WAAL;AACH;AAhCL;AAAA;AAAA,kCAkCiB;;;;;;;;;AACT,oBAAA,OAAO,CAAC,GAAR,CAAY,KAAK,WAAL,CAAiB,KAA7B;;wBACK,SAAS,CAAC,M;;;;;AACX,yBAAK,WAAL,CAAiB,SAAjB,CAA2B,sHAA3B;;;;AAIE,oBAAA,Y,GAAe;AACjB,sBAAA,OAAO,EAAE,IAAI,iDAAA,CAAA,aAAA,CAAJ,CAAgB;AACrB,wCAAgB;AADK,uBAAhB;AADQ,qB;AAMjB,oBAAA,G,GAAM,KAAK,OAAL,CAAa,OAAb,GAAqB,0B;AAC3B,oBAAA,Q,GAAgB,KAAK,WAAL,CAAiB,K;AAErC,yBAAK,UAAL,GAAkB,IAAlB;;AAEc,2BAAM,KAAK,eAAL,CAAqB,MAArB,CAA4B;AAC5C,sBAAA,IAAI,EAAE,KADsC;AAE5C,sBAAA,MAAM,EAAE,6BAFoC;AAG5C,sBAAA,OAAO,EAAE,qCAHmC;AAI5C,sBAAA,OAAO,EAAE,CACL;AAAI,wBAAA,IAAI,EAAE,QAAV;AACI,wBAAA,IAAI,EAAE,QADV;AAEI,wBAAA,QAAQ,EAAE,WAFd;AAGI,wBAAA,OAAO,EAAE,mBAAK;AAAG,0BAAA,KAAI,CAAC,UAAL,GAAkB,KAAlB;AAA0B;AAH/C,uBADK,EAML;AAAI,wBAAA,IAAI,EAAE,cAAV;AACI,wBAAA,OAAO,EAAE,mBAAK;AACV,0BAAA,OAAO,CAAC,GAAR,CAAY,QAAZ;;AACA,0BAAA,KAAI,CAAC,IAAL,CAAU,IAAV,CAAe,GAAf,EAAoB,QAApB,EAA8B,YAA9B,EAA4C,SAA5C,CAAsD,UAAC,GAAD,EAAQ;AAC1D,4BAAA,KAAI,CAAC,UAAL,GAAkB,KAAlB;AACA,4BAAA,OAAO,CAAC,GAAR,CAAY,GAAZ;;AACA,gCAAI,GAAG,KAAK,KAAZ,EAAoB;AAChB,8BAAA,KAAI,CAAC,WAAL,CAAiB,SAAjB,CAA2B,+FAA3B;;AACA,8BAAA,KAAI,CAAC,eAAL,CAAqB,OAArB,CAA6B;AACzB,6CAAa,IADY;AAEzB,2CAAW;AAFc,+BAA7B;AAIH,6BAND,MAMO;AACH,8BAAA,KAAI,CAAC,WAAL,CAAiB,SAAjB,CAA2B,2BAA3B;;AACA,qCAAO,KAAP;AACH;AACJ,2BAbD,EAaG,UAAC,KAAD,EAAe;AACd,4BAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACA,mCAAO,KAAP;AACH,2BAhBD;AAiBH;AApBL,uBANK;AAJmC,qBAA5B,CAAN;;;AAAR,oBAAA,K;AAkCN,yBAAK,UAAL,GAAkB,KAAlB;;AACA,2BAAM,KAAK,CAAC,OAAN,EAAN;;;;;;;;;AACH;AAxFL;AAAA;AAAA,sCA0Fe;AAAA;;AACP,cAAI,CAAC,SAAS,CAAC,MAAf,EACI,KAAK,WAAL,CAAiB,SAAjB,CAA2B,sHAA3B;AAEJ,cAAI,GAAG,GAAG,KAAK,OAAL,CAAa,OAAb,GAAqB,0BAA/B;AACA,eAAK,UAAL,GAAkB,IAAlB;AACA,eAAK,IAAL,CAAU,GAAV,CAAc,GAAd,EAAmB,SAAnB,CAA6B,UAAC,QAAD,EAAiB;AAE1C,YAAA,OAAO,CAAC,GAAR,CAAY,QAAZ;;AACA,gBAAI,QAAJ,EAAa;AACT,cAAA,MAAI,CAAC,QAAL,GAAgB,QAAhB;AACH;AACJ,WAND;AAOA,eAAK,UAAL,GAAkB,KAAlB;AACH;AAxGL;AAAA;AAAA,kCA0GW;AACH,eAAK,eAAL,CAAqB,OAArB,CAA6B;AACzB,yBAAa;AADY,WAA7B;AAGH;AA9GL;;AAAA;AAAA,OAAA;;;;cAOgC,2CAAA,CAAA,iBAAA;;cACL,2CAAA,CAAA,WAAA;;cACE,6DAAA,CAAA,uBAAA;;cACJ,sDAAA,CAAA,gBAAA;;cACH,iDAAA,CAAA,YAAA;;cACO,2CAAA,CAAA,aAAA;;cACK,2CAAA,CAAA,iBAAA;;;;AAbrB,IAAA,WAAW,GAAA,kCAAA,CAAA,YAAA,CAAA,CAAA,CANvB,MAAA,CAAA,0CAAA,CAAA,WAAA,CAAA,CAAA,CAAU;AACP,MAAA,QAAQ,EAAE,cADH;AAEP,MAAA,QAAA,EAAA,kCAAA,CAAA,iBAAA,CAAA,CAAA,mBAAA;AAAA;AAAA,+FAAA,CAAA,YAFO;;;;AAAA,KAAV,CAMuB,E,uEAOQ,2CAAA,CAAA,iBAAA,C,EACL,2CAAA,CAAA,WAAA,C,EACE,6DAAA,CAAA,uBAAA,C,EACJ,sDAAA,CAAA,gBAAA,C,EACH,iDAAA,CAAA,YAAA,C,EACO,2CAAA,CAAA,aAAA,C,EACK,2CAAA,CAAA,iBAAA,C,EAbV,CAAA,EAAX,WAAW,CAAX","sourcesContent":["export default \"<ion-header color=\\\"primary\\\">\\n    <ion-toolbar class=\\\"toolbar-background-md\\\">\\n        <ion-title>\\n            <ion-chip outline class=\\\"ion-margin-vertical chip\\\">\\n            <ion-icon class=\\\"chip\\\" name=\\\"business\\\"></ion-icon>CUSTOMER - ADD NEW \\n            <ion-spinner style=\\\"margin-left: 16px;\\\" name=\\\"crescent\\\" color=\\\"light\\\" [hidden]=\\\"!submitting\\\"></ion-spinner>\\n            </ion-chip>\\n        </ion-title>\\n        <ion-buttons slot=\\\"end\\\">\\n            <ion-button class=\\\"ion-text-capitalize\\\" (click)=\\\"dismiss()\\\">Close</ion-button>\\n        </ion-buttons>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n    <form [formGroup]=\\\"addCustForm\\\" (ngSubmit)=\\\"addCust()\\\">\\n        <ion-card mode=\\\"ios\\\">\\n            <ion-list>\\n                <ion-item class=\\\"ion-margin-bottom\\\">\\n                    <ion-icon name=\\\"business\\\"></ion-icon>\\n                    <ion-label position=\\\"floating\\\">Customer Name</ion-label>\\n                    <ion-input formControlName=\\\"cust_name\\\"></ion-input>\\n                </ion-item> \\n                <ion-item class=\\\"ion-margin-bottom\\\">\\n                    <ion-icon name=\\\"locate\\\"></ion-icon>\\n                    <ion-label position=\\\"floating\\\">Address Line 1</ion-label>\\n                    <ion-input formControlName=\\\"address_line1\\\"></ion-input>\\n                </ion-item>\\n                <ion-item class=\\\"ion-margin-bottom\\\">\\n                    <ion-icon name=\\\"locate\\\"></ion-icon>\\n                    <ion-label position=\\\"floating\\\">Address Line 2</ion-label>\\n                    <ion-input formControlName=\\\"address_line2\\\"></ion-input>\\n                </ion-item>\\n                <ion-item class=\\\"ion-margin-bottom\\\">\\n                    <ion-icon name=\\\"locate\\\"></ion-icon>\\n                    <ion-label position=\\\"floating\\\">Address Line 3</ion-label>\\n                    <ion-input formControlName=\\\"address_line3\\\"></ion-input>\\n                </ion-item>\\n                <ion-item class=\\\"ion-margin-bottom\\\">\\n                    <ion-icon name=\\\"mail\\\"></ion-icon>\\n                    <ion-label position=\\\"floating\\\">E-Mail</ion-label>\\n                    <ion-input type='email' email formControlName=\\\"cust_email\\\"></ion-input>\\n                </ion-item>\\n                <ion-item class=\\\"ion-margin-bottom\\\">\\n                    <ion-icon name=\\\"call\\\"></ion-icon>\\n                    <ion-label position=\\\"floating\\\">Telephone</ion-label>\\n                    <ion-input type='tel' formControlName=\\\"cust_tp\\\"></ion-input>\\n                </ion-item>\\n                <ion-item class=\\\"ion-margin-bottom\\\">\\n                    <ion-icon name=\\\"pricetags\\\" slot=\\\"start\\\"></ion-icon>\\n                    <ion-label position=\\\"floating\\\">Customer Category</ion-label>\\n                    <ion-select slot=\\\"end\\\"  mode=\\\"ios\\\" placeholder=\\\"Select Category\\\" \\n                    formControlName=\\\"cat_id\\\" style=\\\"max-width: 100%;\\\">\\n                            <ion-select-option *ngFor=\\\"let cat of custCats\\\" value=\\\"{{cat.cat_id}}\\\">\\n                                {{cat.cat_name}}\\n                            </ion-select-option>\\n                        </ion-select>\\n                </ion-item>   \\n            </ion-list>\\n        </ion-card>\\n    <ion-button class=\\\"ion-margin\\\" mode=\\\"ios\\\" slots=\\\"start\\\" expand=\\\"block\\\" type=\\\"submit\\\" [disabled]=\\\"!addCustForm.valid\\\">Add Customer</ion-button>\\n    </form>\\n  </ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CustAddPage } from './cust-add.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CustAddPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CustAddPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\n\nimport { CustAddPageRoutingModule } from './cust-add-routing.module';\n\nimport { CustAddPage } from './cust-add.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    CustAddPageRoutingModule,\n    ReactiveFormsModule\n  ],\n  declarations: [CustAddPage]\n})\nexport class CustAddPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21lbWJlcnMvaW5jL2N1c3QtYWRkL2N1c3QtYWRkLnBhZ2Uuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\nimport { ModalController, AlertController } from '@ionic/angular';\nimport { NavParams } from '@ionic/angular';\nimport { AuthenticationService } from '../../../services/authentication.service';\nimport { StorageService } from '../../../services/storage.service';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { FormBuilder, FormGroup, Validators} from '@angular/forms';\n\n@Component({\n    selector: 'app-cust-add',\n    templateUrl: './cust-add.page.html',\n    styleUrls: ['./cust-add.page.scss'],\n})\n\nexport class CustAddPage implements OnInit {\n    private currRootId: number;\n    private custCats: any[] = [];\n    private submitting:boolean = false;\n    private addCustForm: FormGroup;\n\n    constructor(\n        public modalController: ModalController,\n        private navParams: NavParams,\n        private authService: AuthenticationService,\n        private storage: StorageService,\n        private http: HttpClient,\n        private formBuilder: FormBuilder,\n        private  alertController: AlertController,\n    ) { \n        this.currRootId = this.navParams.get('currRootId');\n        console.log(this.currRootId)\n        this.addCustForm = formBuilder.group({\n            cust_name: ['', Validators.required],\n            address_line1: ['', Validators.required],\n            address_line2: [''],\n            address_line3: [''],\n            cust_email: [''],\n            cust_tp: ['', Validators.required],\n            cat_id: ['', Validators.required],\n            route_id: [this.currRootId],\n            cust_id: ['']\n          });\n    }\n\n    ngOnInit() {\n        this.getCustCats();\n    }\n\n    async addCust(){\n        console.log(this.addCustForm.value)\n        if (!navigator.onLine) {\n            this.authService.showToast(\"<b>No internet access..<ion-icon name='information-circle-outline'></ion-icon></b><br>Cannot connect to the server..\");\n            return;\n        } \n\n        const ParseHeaders = {\n            headers: new HttpHeaders({\n                'Content-Type': 'application/x-www-form-urlencoded'\n            })\n        };\n        \n        let url = this.storage.svr_url+\"CustomerCtrl/addCustomer\";\n        let postData: any = this.addCustForm.value;\n        \n        this.submitting = true;\n      \n        const alert = await this.alertController.create({\n            mode: \"ios\",\n            header: 'Confirm adding new customer',\n            message: 'Do you really want to add customer?',\n            buttons: [\n                {   text: 'Cancel',\n                    role: 'cancel',\n                    cssClass: 'secondary',\n                    handler: () => { this.submitting = false; }\n                },\n                {   text: 'Add Customer',\n                    handler: () => {\n                        console.log(postData)\n                        this.http.post(url, postData, ParseHeaders).subscribe((res) => {\n                            this.submitting = false;\n                            console.log(res)\n                            if (res !== false ) {\n                                this.authService.showToast(\"<b>The customer added successfully..<ion-icon name='checkmark-circle-outline'></ion-icon></b>\");\n                                this.modalController.dismiss({\n                                    'dismissed': true,\n                                    'isAdded': true\n                                });\n                            } else {\n                                this.authService.showToast('Problem adding customer..');\n                                return false;\n                            }\n                        }, (error: any) => {\n                            console.log(error);\n                            return false;\n                        });\n                    }\n                }\n            ]\n        });\n        this.submitting = false;\n        await alert.present();\n    }\n\n    getCustCats(){\n        if (!navigator.onLine)\n            this.authService.showToast(\"<b>No internet access..<ion-icon name='information-circle-outline'></ion-icon></b><br>Cannot connect to the server..\");\n\n        let url = this.storage.svr_url+\"CustomerCtrl/getCustCats\";\n        this.submitting = true;\n        this.http.get(url).subscribe((custCats: any)=>{\n            \n            console.log(custCats);\n            if (custCats){\n                this.custCats = custCats;\n            }\n        });\n        this.submitting = false;\n    }\n\n    dismiss() {\n        this.modalController.dismiss({\n            'dismissed': true,\n        });\n    }\n}\n"],"sourceRoot":"webpack:///","file":"default~dashboard-dashboard-module~inc-cust-add-cust-add-module-es5.js"}