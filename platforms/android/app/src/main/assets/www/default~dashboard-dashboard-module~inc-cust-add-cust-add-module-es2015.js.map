{"version":3,"sources":["./src/app/members/inc/cust-add/cust-add.page.html","./src/app/members/inc/cust-add/cust-add-routing.module.ts","./src/app/members/inc/cust-add/cust-add.module.ts","./src/app/members/inc/cust-add/cust-add.page.scss","./src/app/members/inc/cust-add/cust-add.page.ts"],"names":[],"mappings":"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","file":"default~dashboard-dashboard-module~inc-cust-add-cust-add-module-es2015.js","sourcesContent":["export default \"<ion-header color=\\\"primary\\\">\\n    <ion-toolbar class=\\\"toolbar-background-md\\\">\\n        <ion-title>\\n            <ion-chip outline class=\\\"ion-margin-vertical chip\\\">\\n            <ion-icon class=\\\"chip\\\" name=\\\"business\\\"></ion-icon>CUSTOMER - ADD NEW \\n            <ion-spinner style=\\\"margin-left: 16px;\\\" name=\\\"crescent\\\" color=\\\"light\\\" [hidden]=\\\"!submitting\\\"></ion-spinner>\\n            </ion-chip>\\n        </ion-title>\\n        <ion-buttons slot=\\\"end\\\">\\n            <ion-button class=\\\"ion-text-capitalize\\\" (click)=\\\"dismiss()\\\">Close</ion-button>\\n        </ion-buttons>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n    <form [formGroup]=\\\"addCustForm\\\" (ngSubmit)=\\\"addCust()\\\">\\n        <ion-card mode=\\\"ios\\\">\\n            <ion-list>\\n                <ion-item class=\\\"ion-margin-bottom\\\">\\n                    <ion-icon name=\\\"business\\\"></ion-icon>\\n                    <ion-label position=\\\"floating\\\">Customer Name</ion-label>\\n                    <ion-input formControlName=\\\"cust_name\\\"></ion-input>\\n                </ion-item> \\n                <ion-item class=\\\"ion-margin-bottom\\\">\\n                    <ion-icon name=\\\"locate\\\"></ion-icon>\\n                    <ion-label position=\\\"floating\\\">Address Line 1</ion-label>\\n                    <ion-input formControlName=\\\"address_line1\\\"></ion-input>\\n                </ion-item>\\n                <ion-item class=\\\"ion-margin-bottom\\\">\\n                    <ion-icon name=\\\"locate\\\"></ion-icon>\\n                    <ion-label position=\\\"floating\\\">Address Line 2</ion-label>\\n                    <ion-input formControlName=\\\"address_line2\\\"></ion-input>\\n                </ion-item>\\n                <ion-item class=\\\"ion-margin-bottom\\\">\\n                    <ion-icon name=\\\"locate\\\"></ion-icon>\\n                    <ion-label position=\\\"floating\\\">Address Line 3</ion-label>\\n                    <ion-input formControlName=\\\"address_line3\\\"></ion-input>\\n                </ion-item>\\n                <ion-item class=\\\"ion-margin-bottom\\\">\\n                    <ion-icon name=\\\"mail\\\"></ion-icon>\\n                    <ion-label position=\\\"floating\\\">E-Mail</ion-label>\\n                    <ion-input type='email' email formControlName=\\\"cust_email\\\"></ion-input>\\n                </ion-item>\\n                <ion-item class=\\\"ion-margin-bottom\\\">\\n                    <ion-icon name=\\\"call\\\"></ion-icon>\\n                    <ion-label position=\\\"floating\\\">Telephone</ion-label>\\n                    <ion-input type='tel' formControlName=\\\"cust_tp\\\"></ion-input>\\n                </ion-item>\\n                <ion-item class=\\\"ion-margin-bottom\\\">\\n                    <ion-icon name=\\\"pricetags\\\" slot=\\\"start\\\"></ion-icon>\\n                    <ion-label position=\\\"floating\\\">Customer Category</ion-label>\\n                    <ion-select slot=\\\"end\\\"  mode=\\\"ios\\\" placeholder=\\\"Select Category\\\" \\n                    formControlName=\\\"cat_id\\\" style=\\\"max-width: 100%;\\\">\\n                            <ion-select-option *ngFor=\\\"let cat of custCats\\\" value=\\\"{{cat.cat_id}}\\\">\\n                                {{cat.cat_name}}\\n                            </ion-select-option>\\n                        </ion-select>\\n                </ion-item>   \\n            </ion-list>\\n        </ion-card>\\n    <ion-button class=\\\"ion-margin\\\" mode=\\\"ios\\\" slots=\\\"start\\\" expand=\\\"block\\\" type=\\\"submit\\\" [disabled]=\\\"!addCustForm.valid\\\">Add Customer</ion-button>\\n    </form>\\n  </ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CustAddPage } from './cust-add.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CustAddPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CustAddPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\n\nimport { CustAddPageRoutingModule } from './cust-add-routing.module';\n\nimport { CustAddPage } from './cust-add.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    CustAddPageRoutingModule,\n    ReactiveFormsModule\n  ],\n  declarations: [CustAddPage]\n})\nexport class CustAddPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21lbWJlcnMvaW5jL2N1c3QtYWRkL2N1c3QtYWRkLnBhZ2Uuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\nimport { ModalController, AlertController } from '@ionic/angular';\nimport { NavParams } from '@ionic/angular';\nimport { AuthenticationService } from '../../../services/authentication.service';\nimport { StorageService } from '../../../services/storage.service';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { FormBuilder, FormGroup, Validators} from '@angular/forms';\n\n@Component({\n    selector: 'app-cust-add',\n    templateUrl: './cust-add.page.html',\n    styleUrls: ['./cust-add.page.scss'],\n})\n\nexport class CustAddPage implements OnInit {\n    private currRootId: number;\n    private custCats: any[] = [];\n    private submitting:boolean = false;\n    private addCustForm: FormGroup;\n\n    constructor(\n        public modalController: ModalController,\n        private navParams: NavParams,\n        private authService: AuthenticationService,\n        private storage: StorageService,\n        private http: HttpClient,\n        private formBuilder: FormBuilder,\n        private  alertController: AlertController,\n    ) { \n        this.currRootId = this.navParams.get('currRootId');\n        console.log(this.currRootId)\n        this.addCustForm = formBuilder.group({\n            cust_name: ['', Validators.required],\n            address_line1: ['', Validators.required],\n            address_line2: [''],\n            address_line3: [''],\n            cust_email: [''],\n            cust_tp: ['', Validators.required],\n            cat_id: ['', Validators.required],\n            route_id: [this.currRootId],\n            cust_id: ['']\n          });\n    }\n\n    ngOnInit() {\n        this.getCustCats();\n    }\n\n    async addCust(){\n        console.log(this.addCustForm.value)\n        if (!navigator.onLine) {\n            this.authService.showToast(\"<b>No internet access..<ion-icon name='information-circle-outline'></ion-icon></b><br>Cannot connect to the server..\");\n            return;\n        } \n\n        const ParseHeaders = {\n            headers: new HttpHeaders({\n                'Content-Type': 'application/x-www-form-urlencoded'\n            })\n        };\n        \n        let url = this.storage.svr_url+\"CustomerCtrl/addCustomer\";\n        let postData: any = this.addCustForm.value;\n        \n        this.submitting = true;\n      \n        const alert = await this.alertController.create({\n            mode: \"ios\",\n            header: 'Confirm adding new customer',\n            message: 'Do you really want to add customer?',\n            buttons: [\n                {   text: 'Cancel',\n                    role: 'cancel',\n                    cssClass: 'secondary',\n                    handler: () => { this.submitting = false; }\n                },\n                {   text: 'Add Customer',\n                    handler: () => {\n                        console.log(postData)\n                        this.http.post(url, postData, ParseHeaders).subscribe((res) => {\n                            this.submitting = false;\n                            console.log(res)\n                            if (res !== false ) {\n                                this.authService.showToast(\"<b>The customer added successfully..<ion-icon name='checkmark-circle-outline'></ion-icon></b>\");\n                                this.modalController.dismiss({\n                                    'dismissed': true,\n                                    'isAdded': true\n                                });\n                            } else {\n                                this.authService.showToast('Problem adding customer..');\n                                return false;\n                            }\n                        }, (error: any) => {\n                            console.log(error);\n                            return false;\n                        });\n                    }\n                }\n            ]\n        });\n        this.submitting = false;\n        await alert.present();\n    }\n\n    getCustCats(){\n        if (!navigator.onLine)\n            this.authService.showToast(\"<b>No internet access..<ion-icon name='information-circle-outline'></ion-icon></b><br>Cannot connect to the server..\");\n\n        let url = this.storage.svr_url+\"CustomerCtrl/getCustCats\";\n        this.submitting = true;\n        this.http.get(url).subscribe((custCats: any)=>{\n            \n            console.log(custCats);\n            if (custCats){\n                this.custCats = custCats;\n            }\n        });\n        this.submitting = false;\n    }\n\n    dismiss() {\n        this.modalController.dismiss({\n            'dismissed': true,\n        });\n    }\n}\n"],"sourceRoot":"webpack:///"}